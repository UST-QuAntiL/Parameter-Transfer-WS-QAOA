import os
import numpy as np


grid_files = sorted(os.listdir('./energies'))
files = []
orderings = [None]*5

# 1
orderings[0] = [[(0,1)],
                [(0,1,3,2)],
                [(0,1,2,5,4,3)],
                [(0,1,2,3,7,6,5,4)],
                [(0,1,2,3,4,9,8,7,6,5)]]

# 2
orderings[1] = [[(0,1,2,4,3,5),(0,1,2)],
                [(0,1,2,3,4,5,8,7,6,11,10,9),(0,1,2,3,7,5,6,4)],
                [(0,1,2,3,4,5,6,7,11,10,9,8,15,14,13,12),(0,1,2,3,4,5,8,7,6,11,10,9)],
                [(0,1,2,3,4,5,6,7,8,9,14,13,12,11,10,19,18,17,16,15),(0,1,2,3,4,5,6,7,11,10,9,8,15,14,13,12)]]


# 3
orderings[2] = [[(0,1,2,3,4,5,8,7,6,10,9,11),(0,1,2,3,5,7,6,8,9), range(5)],
                [tuple(range(12))+(15,14,13,12)+(19,18,17,16)+(23,22,21,20),
                (0,1,2,6,3,4,5,9,10,11,14,13,12,17,16,15,18,23,22,21),
                (0,1,2,3,4,5,7,6,9,8,11,10)],
                [tuple(range(15))+(19,18,17,16,15)+(24,23,22,21,20)+(29,28,27,26,25),
                (0,1,2,3,8,9,10,11,7,12,13,14,15)+(19,18,17,16)+(23,22,21,20)+(24,31,30,29,28),
                tuple(range(8))+(11,10,9)+(14,13,12)+(17,16,15)]]
            
# 4
orderings[3] = [[tuple(range(10))+(13,12,11,10)+(16,15,14)+(18,17,19),
                (0,1,2,3,4,5,8,9,11)+(14,13,12)+(16,15)+(17,19,20),
                (0,1,2,3,4,5,8)+(10,9)+(12,11)+(14,15),
                range(6)],
                [tuple(range(20))+(24,23,22,21,20)+(29,28,27,26,25)+(34,33,32,31,30)+(39,38,37,36,35),
                (0,1,2,3)+(8,4,5,6)+(7,16,17,18,19,15)+(20,21,22,23) + (27,26,25,24)+(31,30,29,28)+(32,39,38,37,36)+(40,47,46,45,44),
                #  (0,1,2,3)+(8,9,10,11)+(7,16,12,13,14,15)+(20,21,22,23) + (27,26,25,24)+(31,35,34,33)+(32,43,42,41)+(40,47,46,45,44),  # alternative ordering
                (0,1,2,9,3,4,5,12,6,7,8,15,16,17)+(20,19,18)+(23,22,21)+(27,26,25,24)+(30,35,34,33),
                tuple(range(8))+(9,8,11,10,13,12,15,14)]]

# 5
orderings[4] = [[tuple(range(15))+(19,18,17,16,15)+(23,22,21,20)+(26,25,24)+(28,27,29),
                (0,1,2,3,4,5,6,7,11,12,13,16,17,19)+(23,22,21,20)+(26,25,24,27)+(31,30,32,34,35),
                (0,1,2,3,4,5,6,7,8,13,14,17)+(20,19,18)+(23,22,21)+(26,24,28,31,32),
                (0,1,2,3,4,5,6,7,11)+(13,12,15,14,18,16,19),
                range(8)]]


# (j-k)-m
for j in range(1, 6):
    for k in range(j, 6):
        for m in range(j):
            name_list = sorted(['./energies/' + name for name in grid_files if f'({j}-{k})-{m}' in name])
            files.extend([name_list[i] for i in orderings[j-1][k-j][m]])

for i, path in enumerate(files):
    file = path.split('/')[-1]
    grid = np.load(path)
    np.save(f'./energies/ordered/{i:03}_{file}', grid)

